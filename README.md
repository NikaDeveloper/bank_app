# Widget Project

## Описание

IT-отдел крупного банка делает новую фичу для личного кабинета клиента. 
Это виджет, который показывает несколько последних успешных банковских операций клиента.
## Установка

1.  Клонируйте репозиторий:
    ```bash
    [git clone] (-> git@github.com:NikaDeveloper/bank_app.git <-)
    ```

2.  Перейдите в директорию проекта:
    ```bash
    cd bank_app
    ```

3.  Установите зависимости с помощью Poetry:
    ```bash
    poetry install
    ```
    *(Убедитесь, что у вас установлен Poetry)*


# Зависимости 

Установленные зависимости можно посмотреть в requirements.txt.

## Модуль generators

Реализованы генераторы:

- `filter_by_currency` — фильтрует транзакции по валюте.
- `transaction_descriptions` — возвращает описания транзакций.
- `card_number_generator` — создает отформатированные номера карт в заданном диапазоне.

### Тестирование

Для запуска тестов:

```bash
pytest 
```

## Модуль decorators

В этом модуле реализован декоратор @log, который автоматически логирует выполнение функций.

### Возможности:

#### Логирует: 
- имя функции,
- успешный результат (ok),
- ошибки с типом и входными данными (error: Type. Inputs: ...)

#### Выводит логи:
- в консоль (по умолчанию),
- или в файл, если передан аргумент filename.

### Пример использования:

```
from decorators import log

@log(filename="log.txt")
def add(x, y):
    return x + y

add(1, 2)
```
### Пример вывода:
В файл log.txt:

[2025-06-03 21:00:00] add ok

При ошибке:

[2025-06-03 21:00:01] add error: ZeroDivisionError. Inputs: (1, 0), {}


### Чтение данных из CSV и Excel

Проект теперь поддерживает чтение финансовых операций из `.csv` и `.xlsx` файлов.

-   Для чтения из CSV используется функция `read_finance_operations_csv(path_file)`.
-   Для чтения из Excel используется функция `read_finance_operations_excel(path_file)`.

Обе функции принимают путь к файлу и возвращают список словарей с транзакциями.
